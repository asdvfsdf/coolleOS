## 2023.9.7
### CSR寄存器
#### 上面寄存器在s模式和m模式下功能并没有什么区别，名称只要将前面的s换成m即可
stvec:保存发生异常时处理器需要跳转到的地址，这是内核初始化时就要设置好的，并且后面不再变化  
sepc：指向发生异常的指令  
scause：指示发生异常的种类   
stval：保存了陷入的附加信息：地址例外中出错的地址，发生非法指令例外的指令本身，对于其他异常，他的值为0  
sscratch：暂时存放一个字大小的数据  
sstatus：它保存全局中断使能，以及许多其他的状态  



#### m模式下：  
mie：指出处理器目前能处理和必须忽略的中断  
mip：列出目前正准备处理的中断   
mideleg：控制将哪些中断委托给s模式，委托给s模式的时钟中断会移交s模式的异常处理程序，而不是m模式的异常处理程序，委托给s模式的时钟中断将会移交s模式的异常处理程序，而不是m模式的异常处理程序

#### s模式下
sie：指出处理器目前能处理和必须忽略的中断  
sip：列出目前正准备处理的中断  
这两个寄存器是mip和mie寄存器的子集，取决于mideleg放权了多少中断

无论那种模式下发生的中断绝对会不由等级更低的模式处理